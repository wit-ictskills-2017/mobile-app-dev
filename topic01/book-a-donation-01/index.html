 <!DOCTYPE html>
 <html>
   <head>

     <meta charset="utf-8">
     <meta name="viewport" content="width=device-width, initial-scale=1">

     

     <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>

     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.css" type="text/css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-light.min.css" rel="stylesheet" />

     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.address/1.6/jquery.address.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/semantic.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
     <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/java.min.js"></script>
     <script>hljs.initHighlightingOnLoad();</script>

     

     <style>
       

body 
{
  font-family: "Open Sans", "Helvetica", "Helvetica Neue",  "Arial", sans-serif;
}

figcaption
{
  margin-bottom: 20px;
}

.vertical-align
{
  display: flex;
  align-items: center;
}

.ui.segment.pushable
{
  margin: 0;
  padding: 1rem 0;
  overflow: visible;
}



     </style>

   </head>

  <body>
    

<style>
  

code
{
  font-family: "Monaco";
  font-size: 110%;
}

img
{
  padding:1px;
  border:1px solid black;
}

h1
{
  font-style:italic;
  font-size:130%;
  border-bottom:thin solid black;
}

h2
{
  font-size:110%;
  border-bottom: thin solid black;
}

h3
{
  font-size:100%;
  border-bottom: thin solid black;
}

body
{
  overflow-y: scroll;
}

.pushable > .pusher
{
  padding-bottom: 1.5rem;
}

.ui.segment.pushable
{
  margin: 0;
  padding: 1rem 0;
  overflow: visible;
}



</style>

<div class="ui fixed top pointing inverted stackable menu labmenu">
  <header class="header item">
    <i id="toc" class="sitemap icon"></i>
    <a href="../index.html">
      1: Overview & Tools
    </a>
  </header>
  <div class="right tab-menu menu">
    
    <a class="item" data-tab="Donation-01">
      Donation-01
    </a>
    
    <a class="item" data-tab="01">
      01
    </a>
    
    <a class="item" data-tab="02">
      02
    </a>
    
    <a class="item" data-tab="03">
      03
    </a>
    
    <a class="item" data-tab="04">
      04
    </a>
    
    <a class="item" data-tab="05">
      05
    </a>
    
    <a class="item" data-tab="06">
      06
    </a>
    
    <a class="item" data-tab="07">
      07
    </a>
    
    <a class="item" data-tab="08">
      08
    </a>
    
    <a class="item" data-tab="Exercises">
      Exercises
    </a>
    
    <div class="item">
      
    </div>
  </div>
</div>

<div class="ui segment pushable">
  <div class="ui inverted labeled icon left inline vertical sidebar menu">
    
      
        <a class="item" href="../../topic01/book-a-donation-01/index.html">
          Donation-01
        </a>
      
    
  </div>
  <div class="pusher" tabindex="-1">
    <div class="ui basic segment" id="labchat">
      <br>
      
      <div  class="ui tab segment lab" data-tab="Donation-01">
        <h1>Objectives</h1>
<p>Here we proceed to explore in detail the creating of a simple activity class + the associated layout. This process will seem quite complex on first contact - but as we proceed through the labs over the next few sessions the deep structure should start to emerge.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="01">
        <h1>Create Project</h1>
<p>Create a new Android application as demonstrated in the following screenshots.  Note that we are using Android Studio V 2.3.1:</p>
<p><img src="img/00.png" alt="Figure 1: Welcome Screen Android Studio - Start new project">
<img src="img/01.png" alt="Figure 2: Configure new project">
<img src="img/02.png" alt="Figure 3.1: Target Android Devices">
<img src="img/02b.png" alt="Figure 3.2: If it is your first time running Android Studio, you may get this screen">
<img src="img/03.png" alt="Figure 4: Add an Empty Activity">
<img src="img/04.png" alt="Figure 5: Customize the Activity"></p>
<p>Note the &#39;Minimum Required SDK&#39; which may be different from the default (Figure 3.1).</p>
<p>The opening project perspective is shown in Figure 6.</p>
<p><img src="img/05.png" alt="Figure 6: Donation project perspective"></p>
<p>The project will look like this:</p>
<p><img src="img/06.png" alt="Figure 7: Donation project structure"></p>
<p>Here, the activity_donate.xml file is open in layout view:</p>
<p><img src="img/06a.png" alt="Figure 8: activity_donate layout view"></p>
<p>It is important to become familiar with the structure and purpose of the three panes surrounding the Donation &#39;canvas&#39;:</p>
<h2>Palette:</h2>
<p><img src="img/06b.png" alt="Figure 9: Palette"></p>
<h2>Component Tree (Outline)</h2>
<p><img src="img/06c.png" alt="Figure 10: Component tree"></p>
<h2>Properties</h2>
<p><img src="img/06d.png" alt="Figure 11: Properties"></p>
<p>These views are closely related - and you will need to monitor the information displayed there continually as you evolve the appearance of your activities screens.</p>
<h2>Constraint Layout</h2>
<p>You may have noticed in the Component Tree (Figure 10 above) that the layout we are using is the ConstraintLayout.  </p>
<p>We need to install this developer tool in Android Studio.  To do this, open the SDK manager and select both the <strong>Constraint Layout for Android</strong> and <strong>Solver for Android</strong>, as illustrated below.   click the Apply button.</p>
<p><img src="img/06e.png" alt="Figure 12: Installing Constraint Layout Tool in Android Studio"></p>
<p>If we want to use it in our project, we need to make sure that the following dependency:</p>
<pre><code>    compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;</code></pre>
<p>is in the build.gradle (Module: app) file.  If it isn&#39;t add it into the dependencies section of this file:</p>
<pre><code class="lang-groovy">apply plugin: &#39;com.android.application&#39;

android {
    compileSdkVersion 23
    buildToolsVersion &quot;25.0.2&quot;
    defaultConfig {
        applicationId &quot;com.example.donation&quot;
        minSdkVersion 19
        targetSdkVersion 23
        versionCode 1
        versionName &quot;1.0&quot;
        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;
    }
    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;
        }
    }
}

dependencies {
    compile fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])
    androidTestCompile(&#39;com.android.support.test.espresso:espresso-core:2.2.2&#39;, {
        exclude group: &#39;com.android.support&#39;, module: &#39;support-annotations&#39;
    })
    compile &#39;com.android.support:appcompat-v7:23.4.0&#39;
    compile &#39;com.android.support.constraint:constraint-layout:1.0.2&#39;
    testCompile &#39;junit:junit:4.12&#39;
}</code></pre>
<h2>Introduction to the Real Estate of Android Studio&#39;s Layout Editor</h2>
<p>A good introduction to the layout editor can be found here: <a href="https://developer.android.com/studio/write/layout-editor.html">https://developer.android.com/studio/write/layout-editor.html</a>.  It is highly advisable to read this before moving onto the next step.</p>
<p>Also, you can find more information on constraint layouts here:  <a href="https://developer.android.com/training/constraint-layout/index.html">https://developer.android.com/training/constraint-layout/index.html</a> and in this video <a href="https://www.youtube.com/watch?v=XamMbnzI5vE">https://www.youtube.com/watch?v=XamMbnzI5vE</a></p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="02">
        <h1>Layout Donation Activity</h1>
<p>For this lab, our objective is to reproduce in Android this feature from the following web app:</p>
<p><img src="img/07.png" alt="Figure 1: Objective is to recreate this make donation page from web app"></p>
<p>In Android Studio, delete the <strong>Hello World</strong> TextView.</p>
<p>In the Palette, select Widgets.</p>
<p>Drag the TextView and drop it into the top left hand corner of the Android design screen.  In the properties pane, rename the ID to be <strong>donateTitle</strong> and change the textAppearance from <strong>Small</strong> to <strong>Large</strong>.</p>
<p><img src="img/08.png" alt="Figure 2: Creating the donateTitle TextView"></p>
<p>Now that we have created the donateTitle TextView, we need to inform the Constraint Layout where to place it.  Currently it is only placed on our screen in design mode; when we run this, it will appear in location (0,0).  </p>
<p>We want to set both the Left and the Top Margin to 16.  To set the Left Margin, click on the green circle (the handle) to the left of the TextView and drag the arrow horizontally to the zero coordinate.  You will notice that an 8 will appear as the left margin with in the Properties window.  Click on this and change it to 16.  Repeat this process to set the Top Margin to 16.   </p>
<p><img src="img/09.png" alt="Figure 3: Margins set for the donateTitle TextView"></p>
<p><img src="img/10.png" alt="Figure 4: In the Properties window, click on the ellipses button beside the text to open the resources window"></p>
<p><img src="img/11.png" alt="Figure 5: Select the option to add a new String value Resource"></p>
<p><img src="img/12.png" alt="Figure 6: Define a new resource name-value pair representing Welcome Homer greeting"></p>
<p><img src="img/12b.png" alt="Figure 7: Name referenced in strings.xml file"></p>
<h2>Toggle between Design and Text View</h2>
<p>You may toggle between the design and textual representation of the screen using the tabs located towards the foot of the Android Studio perspective as shown in Figure 9.</p>
<p><img src="img/12d.png" alt="Figure 9: Toggle between textual and design representation of screen"></p>
<p>We will now closely inspect the following two files:</p>
<h2>res/layout/activity_dontate.xml</h2>
<pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;
xmlns:tools=&quot;http://schemas.android.com/tools&quot;
android:layout_width=&quot;match_parent&quot;
android:layout_height=&quot;match_parent&quot;
tools:context=&quot;com.example.donation.Donate&quot;
    tools:layout_editor_absoluteY=&quot;81dp&quot;
    tools:layout_editor_absoluteX=&quot;0dp&quot;&gt;

    &lt;TextView
        android:id=&quot;@+id/donateTitle&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginLeft=&quot;16dp&quot;
        android:layout_marginTop=&quot;16dp&quot;
        android:text=&quot;@string/donateTitle&quot;
        android:textAppearance=&quot;@android:style/TextAppearance.Large&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;
&lt;/android.support.constraint.ConstraintLayout&gt;</code></pre>
<h2>res/values/strings.xml</h2>
<pre><code class="lang-xml">&lt;resources&gt;
    &lt;string name=&quot;app_name&quot;&gt;Donation&lt;/string&gt;
    &lt;string name=&quot;donateTitle&quot;&gt;Welcome Homer&lt;/string&gt;
&lt;/resources&gt;</code></pre>
<p>Note the relationship between &#39;donateTitle&#39; in both files, in relation to strings.</p>
<p>Using a TextView Widget, add the following string into the donate activity now - (medium sized text) - and follow the same procedure as above. The design view for your app should look like this:</p>
<p><img src="img/12e.png" alt="Figure 10: Add new string"></p>
<p>and our two XML files will look like this:</p>
<p>res/layout/activity_donate.xml</p>
<pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;
xmlns:tools=&quot;http://schemas.android.com/tools&quot;
android:layout_width=&quot;match_parent&quot;
android:layout_height=&quot;match_parent&quot;
tools:context=&quot;com.example.donation.Donate&quot;
    tools:layout_editor_absoluteY=&quot;81dp&quot;
    tools:layout_editor_absoluteX=&quot;0dp&quot;&gt;

    &lt;TextView
        android:id=&quot;@+id/donateTitle&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginLeft=&quot;16dp&quot;
        android:layout_marginTop=&quot;16dp&quot;
        android:text=&quot;@string/donateTitle&quot;
        android:textAppearance=&quot;@android:style/TextAppearance.Large&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;

    &lt;TextView
        android:id=&quot;@+id/donateSubtitle&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;@string/donateSubtitle&quot;
        android:textAppearance=&quot;@android:style/TextAppearance.Medium&quot;
        android:layout_marginTop=&quot;24dp&quot;
        app:layout_constraintTop_toBottomOf=&quot;@+id/donateTitle&quot;
        android:layout_marginLeft=&quot;16dp&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot; /&gt;
&lt;/android.support.constraint.ConstraintLayout&gt;</code></pre>
<p>res/values/strings.xml</p>
<pre><code class="lang-xml">&lt;resources&gt;
    &lt;string name=&quot;app_name&quot;&gt;Donation&lt;/string&gt;
    &lt;string name=&quot;donateTitle&quot;&gt;Welcome Homer&lt;/string&gt;
    &lt;string name=&quot;donateSubtitle&quot;&gt;Please give generously&lt;/string&gt;
&lt;/resources&gt;</code></pre>

      </div>
     
      <div  class="ui tab segment lab" data-tab="03">
        <h1>Donate Button</h1>
<p>Place a button widget directly on to activity_donate layout - attached to the bottom of the screen as shown:</p>
<p><img src="img/13.png" alt="Figure 1: Add new button and set it&#39;s bottom margin"></p>
<p>Following a similar procedure as in the previous step, rename the button and add an id, as shown in Figures 2 and 3.</p>
<p><img src="img/13a.png" alt="Figure 2: Donate button "></p>
<p><img src="img/13b.png" alt="Figure 3: Adding name-value pair - donateButton | Donate"></p>
<h2>Fixing the Constraints</h2>
<p>Click on the text view for activity_donate.xml.  You should notice that the <strong>Button</strong> element is underlined, indicating that something is wrong.  Hover over it and it will show you this message:</p>
<p><img src="img/14.png" alt="Figure 4: Constraint error on the Donate button"></p>
<p>The message is telling you that you haven&#39;t constrained your Donate button on the horizontal axis and it will jump to the left at runtime.  Return to your Design view and rectify this.  As you want to centre this button, you will need to add both a left and a right margin.</p>
<h3>activity_donate.xml</h3>
<pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;
xmlns:tools=&quot;http://schemas.android.com/tools&quot;
android:layout_width=&quot;match_parent&quot;
android:layout_height=&quot;match_parent&quot;
tools:context=&quot;com.example.donation.Donate&quot;
    tools:layout_editor_absoluteY=&quot;81dp&quot;
    tools:layout_editor_absoluteX=&quot;0dp&quot;&gt;

    &lt;TextView
        android:id=&quot;@+id/donateTitle&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginLeft=&quot;16dp&quot;
        android:layout_marginTop=&quot;16dp&quot;
        android:text=&quot;@string/donateTitle&quot;
        android:textAppearance=&quot;@android:style/TextAppearance.Large&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;

    &lt;TextView
        android:id=&quot;@+id/donateSubtitle&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;@string/donateSubtitle&quot;
        android:textAppearance=&quot;@android:style/TextAppearance.Medium&quot;
        android:layout_marginTop=&quot;24dp&quot;
        app:layout_constraintTop_toBottomOf=&quot;@+id/donateTitle&quot;
        android:layout_marginLeft=&quot;16dp&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot; /&gt;

    &lt;Button
        android:id=&quot;@+id/donateButton&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginBottom=&quot;24dp&quot;
        android:text=&quot;@string/donateButton&quot;
        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;
        android:layout_marginLeft=&quot;8dp&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        android:layout_marginRight=&quot;8dp&quot;
        app:layout_constraintRight_toRightOf=&quot;parent&quot; /&gt;
&lt;/android.support.constraint.ConstraintLayout&gt;</code></pre>
<h2>strings.xml</h2>
<pre><code class="lang-xml">&lt;resources&gt;
    &lt;string name=&quot;app_name&quot;&gt;Donation&lt;/string&gt;
    &lt;string name=&quot;donateTitle&quot;&gt;Welcome Homer&lt;/string&gt;
    &lt;string name=&quot;donateSubtitle&quot;&gt;Please give generously&lt;/string&gt;
    &lt;string name=&quot;donateButton&quot;&gt;Donate&lt;/string&gt;
&lt;/resources&gt;</code></pre>
<p>If there is a deviation from the above - retrace your steps (delete the button) until you can match the above.</p>
<h1>Donate.java</h1>
<p>We can now switch our attention to the Java Activity class, Donate.java.  This is the generated code:</p>
<pre><code class="lang-java">package com.example.donation;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;

public class Donate extends AppCompatActivity {

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_donate);
    }
}</code></pre>
<p>For any &#39;controls&#39; a user can interact with we usually find it useful to associate a class member with that object. Currently we have only one - a Button. The text fields we dont consider &#39;interactive&#39; as such, so we will not include those.</p>
<p>Insert the following new field into the class:</p>
<pre><code class="lang-java">  private Button donateButton;</code></pre>
<p>The class, Button, will have to be imported (you can use ALT+Enter to do this for you). </p>
<p>Note that the class name (i.e. the type) will always match the name in the Palette:</p>
<p><img src="img/15.png" alt="Figure 5: Palette"></p>
<p>We are free to call the variable anything we like. However, in order to keep confusion to a minimum, always call the variable by the same name you used in the Component Tree view:</p>
<p><img src="img/16.png" alt="Figure 6: Component Tree view"></p>
<p>In onCreate - we need to initialise this variable:</p>
<pre><code>    donateButton = (Button) findViewById(R.id.donateButton);</code></pre>
<p>We might also add a logging message so we can have some feedback as the app launches:</p>
<pre><code>    Log.v(&quot;Donate&quot;, &quot;got the donate button&quot;);</code></pre>
<p>We should check the donate button actually exists before logging our success:</p>
<pre><code>    if (donateButton != null)
    {
      Log.v(&quot;Donate&quot;, &quot;Really got the donate button&quot;);
    }</code></pre>
<p>This is the complete activity class:</p>
<pre><code>package com.example.donation;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.widget.Button;

public class Donate extends AppCompatActivity {

    private Button donateButton;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_donate);

        donateButton = (Button) findViewById(R.id.donateButton);

        if (donateButton != null)
        {
            Log.v(&quot;Donate&quot;, &quot;Really got the donate button&quot;);
        }
    }
}</code></pre>
<p>Finding the log message can be very difficult, unless you set a filter. </p>
<ul>
<li><a href="https://developer.android.com/tools/debugging/debugging-studio.html">LogCat documentation</a> describes how to manage logging.</li>
</ul>
<p>Click on <strong>Android Monitor</strong> in the toolbar at the bottom of the Android Studio screen.  In the&#39;LogCat&#39; view, create a filter by selecting &quot;Edit Filter Configuration&quot;:</p>
<p><img src="img/17.png" alt="Figure 7: Configure LogCat filter"></p>
<p>When we start running our app (which we will do later in this lab) and you select the filter, you should see your message:</p>
<p><img src="img/19.png" alt="Figure 8: LogCat output"></p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="04">
        <h1>Documentation</h1>
<p>The android documentation is particularly helpful and well designed. These are the two key starting points:</p>
<ul>
<li><a href="http://developer.android.com/guide/components/index.html">http://developer.android.com/guide/components/index.html</a></li>
<li><a href="http://developer.android.com/reference/packages.html">http://developer.android.com/reference/packages.html</a></li>
</ul>
<p>The first is designed to be read though as a guide, perhaps independent of any work in Android Studio. You should get into the habit of devoting an hour or two a week just reading this section.</p>
<p>The Reference guide should always be open as you are working on labs or projects, and you should make a serious effort to get to grips with at least some of the information here.</p>
<p>Taking the Button class we have just started using. We can immediately find the reference just by knowing the import statement in our Activity class:</p>
<pre><code class="lang-java">import android.widget.Button;</code></pre>
<p>.. translates to</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/Button.html">http://developer.android.com/reference/android/widget/Button.html</a></li>
</ul>
<p>(note the last three segments match the package name). Open this page now. Read just as far as the &quot;Button Style&quot; heading. There seems to be two ways of learning when an button event occurs. The first method is using the event handler/listener - but a second easier method is also available.</p>
<p>Try this now. Bring in a new method into Donate class:</p>
<pre><code class="lang-java">  public void donateButtonPressed (View view) 
  {
    Log.v(&quot;Donate&quot;, &quot;Donate Pressed!&quot;);
   }</code></pre>
<p>Import the View class:</p>
<pre><code>import android.view.View;</code></pre>
<p>Then, edit the activity_donate xml file - and add a new attribute into the Button xml fragment:</p>
<pre><code class="lang-xml">    &lt;Button
        android:id=&quot;@+id/donateButton&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginBottom=&quot;24dp&quot;
        android:text=&quot;@string/donateButton&quot;
        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;
        android:layout_marginLeft=&quot;8dp&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        android:layout_marginRight=&quot;8dp&quot;
        app:layout_constraintRight_toRightOf=&quot;parent&quot;
        android:onClick=&quot;donateButtonPressed&quot;/&gt;</code></pre>
<p>(the very last entry)</p>
<p>Save everything.</p>
<h2>Executing the app</h2>
<p>Run your app.  </p>
<p>If this is your first time executing an Android app, a window will pop up letting you know that you have no USB devices or running emulators.  </p>
<p><img src="img/18a.png" alt="Figure 1: Select Deployment Target"></p>
<p>Create a new virtual device for the Phone category (choose the default options given to you).</p>
<p>If HAXM (for better emulation performance) is not installed on your computer, install it:</p>
<p><img src="img/18b.png" alt="Figure 2: HAXM is not installed"></p>
<p>Select your Available Virtual Device and click the OK button to run your app.</p>
<p>Monitor the log as you press the button:</p>
<p><img src="img/19.png" alt="Figure 3: LogCat message generated on Donation button press"></p>
<p>We now have our first interaction working!</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="05">
        <h1>Research + New Control Layout</h1>
<p>Recall the UI we are trying to implement:</p>
<p><img src="img/20.png" alt="Figure 1: The Web app UI we are attempting to implement in Android"></p>
<p>We need a Radio Buttons, some sort of selection/combo box + a progress bar. These can be found in various locations in the palette:</p>
<p><img src="img/21.png" alt="Figure 2: RadioGroup located in Container panel in palette">
<img src="img/21a.png" alt="Figure 3: Radio buttons &amp; progress bar located in Widgets panel in palette">
<img src="img/22.png" alt="Figure 4: Numberpicker located in Advanced panel in palette"></p>
<p>RadioGroup, ProgressBar and NumberPicker seem likely candidates. The names of these controls are exactly as advertised, and we can find them as illustrated in the preceeding Figures 2, 3 &amp; 4. To verify this, try importing them at the top of the Donate activity class:</p>
<pre><code class="lang-java">import android.widget.RadioGroup;
import android.widget.NumberPicker;
import android.widget.ProgressBar;</code></pre>
<p>... and we can bring in three fields into the class:</p>
<pre><code class="lang-java">  private RadioGroup   paymentMethod;
  private ProgressBar  progressBar;
  private NumberPicker amountPicker;</code></pre>
<p>We can also open up three pages of documentation - which we can reverse engineer from the package/class names:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/RadioGroup.html">http://developer.android.com/reference/android/widget/RadioGroup.html</a></li>
<li><a href="http://developer.android.com/reference/android/widget/ProgressBar.html">http://developer.android.com/reference/android/widget/ProgressBar.html</a></li>
<li><a href="http://developer.android.com/reference/android/widget/NumberPicker.html">http://developer.android.com/reference/android/widget/NumberPicker.html</a></li>
</ul>
<p>Note this time we have gone to the Activity class before actually creating the controls. We should do this now - and remember to use the same names (for the IDs) as we create the controls.</p>
<p><img src="img/23.png" alt="Figure 5: Radio group, progress bar &amp; number picker added">
<img src="img/24.png" alt="Figure 6: Component Tree representing current layout"></p>
<p>Getting the layout +id names as shown above may take some practice. However, it is an essential skill to get on top of, even it it takes a lot of trial and error.  Note also that we moved the Donate button to the left of the screen, rather than in the centre.</p>
<p>For reference purposes (try to do it your self), these are the relevant generated xml files:</p>
<pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;android.support.constraint.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;
xmlns:tools=&quot;http://schemas.android.com/tools&quot;
android:layout_width=&quot;match_parent&quot;
android:layout_height=&quot;match_parent&quot;
tools:context=&quot;com.example.donation.Donate&quot;
    tools:layout_editor_absoluteY=&quot;81dp&quot;
    tools:layout_editor_absoluteX=&quot;0dp&quot;&gt;

    &lt;TextView
        android:id=&quot;@+id/donateTitle&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginStart=&quot;16dp&quot;
        android:layout_marginTop=&quot;16dp&quot;
        android:text=&quot;@string/donateTitle&quot;
        android:textAppearance=&quot;@android:style/TextAppearance.Large&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;

    &lt;TextView
        android:id=&quot;@+id/donateSubtitle&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:text=&quot;@string/donateSubtitle&quot;
        android:textAppearance=&quot;@android:style/TextAppearance.Medium&quot;
        android:layout_marginTop=&quot;24dp&quot;
        app:layout_constraintTop_toBottomOf=&quot;@+id/donateTitle&quot;
        android:layout_marginStart=&quot;16dp&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot; /&gt;

    &lt;Button
        android:id=&quot;@+id/donateButton&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginBottom=&quot;24dp&quot;
        android:text=&quot;@string/donateButton&quot;
        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;
        android:layout_marginStart=&quot;16dp&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        android:onClick=&quot;donateButtonPressed&quot;
        android:layout_marginTop=&quot;64dp&quot;
        app:layout_constraintTop_toBottomOf=&quot;@+id/progressBar&quot;/&gt;

    &lt;RadioGroup
        android:id=&quot;@+id/paymentMethod&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_marginStart=&quot;32dp&quot;
        android:layout_marginTop=&quot;32dp&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        app:layout_constraintTop_toBottomOf=&quot;@+id/donateSubtitle&quot;&gt;

        &lt;RadioButton
            android:id=&quot;@+id/payPal&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:checked=&quot;true&quot;
            android:text=&quot;@string/PayPal&quot; /&gt;

        &lt;RadioButton
            android:id=&quot;@+id/Direct&quot;
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;wrap_content&quot;
            android:text=&quot;@string/Direct&quot; /&gt;
    &lt;/RadioGroup&gt;

    &lt;ProgressBar
        android:id=&quot;@+id/progressBar&quot;
        style=&quot;?android:attr/progressBarStyleHorizontal&quot;
        android:layout_width=&quot;362dp&quot;
        android:layout_height=&quot;18dp&quot;
        android:layout_marginLeft=&quot;16dp&quot;
        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;
        android:layout_marginRight=&quot;16dp&quot;
        app:layout_constraintRight_toRightOf=&quot;parent&quot;
        app:layout_constraintHorizontal_bias=&quot;0.3&quot;
        android:layout_marginTop=&quot;124dp&quot;
        app:layout_constraintTop_toBottomOf=&quot;@+id/paymentMethod&quot; /&gt;

    &lt;NumberPicker
        android:id=&quot;@+id/amountPicker&quot;
        android:layout_width=&quot;90dp&quot;
        android:layout_height=&quot;100dp&quot;
        android:layout_marginTop=&quot;32dp&quot;
        app:layout_constraintTop_toBottomOf=&quot;@+id/donateSubtitle&quot;
        android:layout_marginEnd=&quot;16dp&quot;
        app:layout_constraintRight_toRightOf=&quot;parent&quot; /&gt;

&lt;/android.support.constraint.ConstraintLayout&gt;</code></pre>
<pre><code class="lang-xml">&lt;resources&gt;
    &lt;string name=&quot;app_name&quot;&gt;Donation&lt;/string&gt;
    &lt;string name=&quot;donateTitle&quot;&gt;Welcome Homer&lt;/string&gt;
    &lt;string name=&quot;donateSubtitle&quot;&gt;Please give generously&lt;/string&gt;
    &lt;string name=&quot;donateButton&quot;&gt;Donate&lt;/string&gt;
    &lt;string name=&quot;PayPal&quot;&gt;PayPal&lt;/string&gt;
    &lt;string name=&quot;Direct&quot;&gt;Direct&lt;/string&gt;
&lt;/resources&gt;</code></pre>
<p>If we have our naming conventions right - then we can bind to these new controls in onCreate:</p>
<pre><code class="lang-java">        paymentMethod = (RadioGroup)   findViewById(R.id.paymentMethod);
        progressBar   = (ProgressBar)  findViewById(R.id.progressBar);
        amountPicker  = (NumberPicker) findViewById(R.id.amountPicker);</code></pre>
<p>This is the complete Donate class:</p>
<pre><code class="lang-java">package com.example.donation;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.NumberPicker;
import android.widget.ProgressBar;
import android.widget.RadioGroup;

public class Donate extends AppCompatActivity {

    private Button donateButton;
    private RadioGroup paymentMethod;
    private ProgressBar progressBar;
    private NumberPicker amountPicker;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_donate);

        donateButton  = (Button)       findViewById(R.id.donateButton);
        paymentMethod = (RadioGroup)   findViewById(R.id.paymentMethod);
        progressBar   = (ProgressBar)  findViewById(R.id.progressBar);
        amountPicker  = (NumberPicker) findViewById(R.id.amountPicker);

        amountPicker.setMinValue(0);
        amountPicker.setMaxValue(1000);
    }

    public void donateButtonPressed (View view)
    {
        Log.v(&quot;Donate&quot;, &quot;Donate Pressed!&quot;);
    }
}</code></pre>

      </div>
     
      <div  class="ui tab segment lab" data-tab="06">
        <h1>NumberPicker</h1>
<p>This is our reference documentation:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/NumberPicker.html">http://developer.android.com/reference/android/widget/NumberPicker.html</a></li>
</ul>
<p>which is a little overwhelming. Back in the guides:</p>
<ul>
<li><a href="http://developer.android.com/guide/components/index.html">http://developer.android.com/guide/components/index.html</a></li>
</ul>
<p>we might find some useful tutorial type introduction to this control - under &#39;User Interface&#39; - &#39;Input Controls&#39;</p>
<ul>
<li><a href="http://developer.android.com/guide/topics/ui/controls.html">http://developer.android.com/guide/topics/ui/controls.html</a></li>
</ul>
<p>.. and this is the page on &#39;pickers&#39;</p>
<ul>
<li><a href="http://developer.android.com/guide/topics/ui/controls/pickers.html">http://developer.android.com/guide/topics/ui/controls/pickers.html</a></li>
</ul>
<p>This documentation is concerned with Fragments - a concept that may be difficult to grasp initially, and also explores the usage of date and time pickers. </p>
<p>We can get up and running without this much fuss. Returning to the documentation, these three methods should be sufficient initially:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/NumberPicker.html#setMaxValue(int)">http://developer.android.com/reference/android/widget/NumberPicker.html#setMaxValue(int)</a></li>
<li><a href="http://developer.android.com/reference/android/widget/NumberPicker.html#setMinValue(int)">http://developer.android.com/reference/android/widget/NumberPicker.html#setMinValue(int)</a></li>
<li><a href="http://developer.android.com/reference/android/widget/NumberPicker.html#getValue()">http://developer.android.com/reference/android/widget/NumberPicker.html#getValue()</a></li>
</ul>
<p>Observe that in the method <em>onCreate</em>, in the previous step, we have initialized the number picker minium and maxium permitted values: </p>
<pre><code class="lang-java">    amountPicker.setMinValue(0);
    amountPicker.setMaxValue(1000);</code></pre>
<p>Modify <em>donateButtonPressed</em> as shown here and verify that when Donate button is is pressed the method is invoked, outputting the message + value as shown in the Logcat window:</p>
<pre><code class="lang-java">  public void donateButtonPressed (View view) 
  {
    int amount = amountPicker.getValue();
    Log.v(&quot;Donate&quot;, &quot;Donate Pressed! with amount &quot; + amount);
   }</code></pre>
<p>Run this now - and verify that it operates as expected (see the actual amounts in the log file).</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="07">
        <h1>Radio Button</h1>
<p>In donateButtonPressed we need to discover which payment method has been selected. Our RadioGroup documentation is here:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/RadioGroup.html">http://developer.android.com/reference/android/widget/RadioGroup.html</a></li>
</ul>
<p>This looks like the method we need:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/RadioGroup.html#getCheckedRadioButtonId(">getCheckedRadioButtonId()</a>)</li>
</ul>
<p>This is a revised version of donateButtonPressed()</p>
<pre><code class="lang-java">  public void donateButtonPressed (View view) 
  {
    int amount = amountPicker.getValue();
    int radioId = paymentMethod.getCheckedRadioButtonId();
    String method = &quot;&quot;;
    if (radioId == R.id.payPal)
    {
      method = &quot;PayPal&quot;;
    }
    else
    {
      method = &quot;Direct&quot;;
    }
    Log.v(&quot;Donate&quot;, &quot;Donate Pressed! with amount &quot; + amount + &quot;, method: &quot; + method);
   }</code></pre>
<p>Run it now and verify we are getting the correct logs.</p>
<p><img src="img/28.png" alt="Figure 1: logcat output"></p>
<p>We can simplify it somewhat by reducing the if statement to a single line:</p>
<pre><code class="lang-java">    String method = radioId == R.id.payPal ? &quot;PayPal&quot; : &quot;Direct&quot;;</code></pre>
<p>This is the Java ternary operator:</p>
<ul>
<li><a href="http://marxsoftware.blogspot.ie/2010/09/how-i-learned-to-stop-worrying-and-love.html">http://marxsoftware.blogspot.ie/2010/09/how-i-learned-to-stop-worrying-and-love.html</a></li>
</ul>
<p>This is the complete activity class:</p>
<pre><code class="lang-java">package com.example.donation;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.NumberPicker;
import android.widget.ProgressBar;
import android.widget.RadioGroup;

public class Donate extends AppCompatActivity {

    private Button donateButton;
    private RadioGroup paymentMethod;
    private ProgressBar progressBar;
    private NumberPicker amountPicker;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_donate);

        donateButton  = (Button)       findViewById(R.id.donateButton);
        paymentMethod = (RadioGroup)   findViewById(R.id.paymentMethod);
        progressBar   = (ProgressBar)  findViewById(R.id.progressBar);
        amountPicker  = (NumberPicker) findViewById(R.id.amountPicker);

        amountPicker.setMinValue(0);
        amountPicker.setMaxValue(1000);
    }

    public void donateButtonPressed (View view)
    {
        int amount = amountPicker.getValue();
        int radioId = paymentMethod.getCheckedRadioButtonId();
        String method = radioId == R.id.payPal ? &quot;PayPal&quot; : &quot;Direct&quot;;
        Log.v(&quot;Donate&quot;, &quot;Donate Pressed! with amount &quot; + amount + &quot;, method: &quot; + method);
    }
}</code></pre>

      </div>
     
      <div  class="ui tab segment lab" data-tab="08">
        <h1>Progress</h1>
<p>The progress bar documentation:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/ProgressBar.html">http://developer.android.com/reference/android/widget/ProgressBar.html</a></li>
</ul>
<p>offers us advice on using the progress bar in multi-threaded application. Not quite what we are ready for yet! (but file it away for future reference).</p>
<p>These two methods are probably what we need:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/ProgressBar.html#setMax(int)">http://developer.android.com/reference/android/widget/ProgressBar.html#setMax(int)</a></li>
<li><a href="http://developer.android.com/reference/android/widget/ProgressBar.html#setProgress(int)">http://developer.android.com/reference/android/widget/ProgressBar.html#setProgress(int)</a></li>
</ul>
<p>First we would need to equip our activity with the ability to remember the total of all funds donated.  Include this as an instance field:</p>
<pre><code class="lang-java">  private int totalDonated;</code></pre>
<p>Lets set max progress bar to 10000 in onCreate:</p>
<pre><code class="lang-java">    progressBar.setMax(10000);</code></pre>
<p>.. and set the progress in donateButtonPressed:</p>
<pre><code class="lang-java">    totalDonated = totalDonated + amount;
    progressBar.setProgress(totalDonated);
    Log.v(&quot;Donate&quot;, &quot;Current total &quot; + totalDonated);</code></pre>
<p>Try this now and observe the progress bar.</p>
<p><img src="img/29.png" alt="Figure 1: Progress bar in action"></p>
<p>This is the complete class:</p>
<pre><code class="lang-java">package com.example.donation;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.NumberPicker;
import android.widget.ProgressBar;
import android.widget.RadioGroup;

public class Donate extends AppCompatActivity {

    private Button donateButton;
    private RadioGroup paymentMethod;
    private ProgressBar progressBar;
    private NumberPicker amountPicker;
    private int totalDonated;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_donate);

        donateButton  = (Button)       findViewById(R.id.donateButton);
        paymentMethod = (RadioGroup)   findViewById(R.id.paymentMethod);
        progressBar   = (ProgressBar)  findViewById(R.id.progressBar);
        amountPicker  = (NumberPicker) findViewById(R.id.amountPicker);

        amountPicker.setMinValue(0);
        amountPicker.setMaxValue(1000);

        progressBar.setMax(10000);
    }

    public void donateButtonPressed (View view)
    {
        int amount = amountPicker.getValue();
        int radioId = paymentMethod.getCheckedRadioButtonId();
        String method = radioId == R.id.payPal ? &quot;PayPal&quot; : &quot;Direct&quot;;
        totalDonated = totalDonated + amount;
        progressBar.setProgress(totalDonated);

        Log.v(&quot;Donate&quot;, &quot;Donate Pressed! with amount &quot; + amount + &quot;, method: &quot; + method);
        Log.v(&quot;Donate&quot;, &quot;Current total &quot; + totalDonated);

    }
}</code></pre>
<p>Here is another version of exactly the same class:</p>
<pre><code class="lang-java">package com.example.donation;

import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.util.Log;
import android.view.View;
import android.widget.Button;
import android.widget.NumberPicker;
import android.widget.ProgressBar;
import android.widget.RadioGroup;

public class Donate extends AppCompatActivity {

    private Button donateButton;
    private RadioGroup paymentMethod;
    private ProgressBar progressBar;
    private NumberPicker amountPicker;
    private int totalDonated;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_donate);

        donateButton  = (Button)       findViewById(R.id.donateButton);
        paymentMethod = (RadioGroup)   findViewById(R.id.paymentMethod);
        progressBar   = (ProgressBar)  findViewById(R.id.progressBar);
        amountPicker  = (NumberPicker) findViewById(R.id.amountPicker);

        amountPicker.setMinValue(0);
        amountPicker.setMaxValue(1000);

        progressBar.setMax(10000);
    }

    public void donateButtonPressed (View view)
    {
        totalDonated  = totalDonated + amountPicker.getValue();
        String method = paymentMethod.getCheckedRadioButtonId() == R.id.payPal ? &quot;PayPal&quot; : &quot;Direct&quot;;
        progressBar.setProgress(totalDonated);

        Log.v(&quot;Donate&quot;, amountPicker.getValue() + &quot; donated by &quot; +  method + &quot;\nCurrent total &quot; + totalDonated);
    }
}</code></pre>
<p>Examine them carefully. What are the differences? Why make these changes?</p>
<p>Note also the careful attention to spacing and alignment in the following code. Not just correct indentation, but continual attention to structuring each method carefully, removing duplication and unnecessary code and formatting/aligning the declarations and assignment statements in a table like structure:</p>
<p><img src="img/30.png" alt="Figure 2: Spacing and aligning code"></p>
<p>Android code can become very verbose and complex. Carefully formatting is essential if you are not to be overwhelmed.</p>

      </div>
     
      <div  class="ui tab segment lab" data-tab="Exercises">
        <h1>Exercises</h1>
<h2>Exercise 1:</h2>
<p>Here is an archive of lab so far:</p>
<ul>
<li><a href="https://github.com/wit-ictskills-2017/android-donation-2017.git">android-donation-2017</a></li>
</ul>
<p>You may use this as a reference if you have any unresolved anomalies in your code.</p>
<p>The archive is tagged at end of each lab step. To obtain a snapshot at the end of, for example, step 8, simply run the command <code>git checkout 01_08</code>. In this case, 01_08 is a tag where 01 represents the first lab in the donation series of labs and 08 represents step 8. Not every step has a solution; typically there are two per lab i.e. the final step and the exercises. Note that the same process can be followed for exercises e.g. <code>git checkout 01_exercises</code>.</p>
<p>You should now put your Donation application under git version control. You are already familiar with this procedure:</p>
<ul>
<li>cd into the project on your computer in a terminal</li>
<li>create a suitable .gitignore file (sample below)</li>
<li>run <code>git add .</code></li>
<li>commit with a suitable message</li>
<li>create a repository on your Bitbucket account named `donation-android-2017&#39;</li>
<li>follow the Bitbucket documented procedure to establish tracking between local and remote repos</li>
<li>run the push command to initialize the remote repo with the latest local snapshot.</li>
</ul>
<p>Use this repository pair to maintain a record of the Android Donation app as you develop it further during the course.</p>
<p>Sample .gitignore file:</p>
<pre><code>#built application files
*.apk
*.ap_

# files for the dex VM
*.dex

# Java class files
*.class

# generated files
bin/
gen/

# Local configuration file (sdk path, etc)
local.properties

# Windows thumbnail db
Thumbs.db

# OSX files
.DS_Store

# Android Studio
# https://www.jetbrains.com/idea/help/project.html
*.iml
.idea/workspace.xml
.gradle
build/</code></pre>
<h2>Exercise 2:</h2>
<p>Consider an alternative to the NumberPicker - specifically one of the &quot;Text&quot; controls:</p>
<p><img src="img/25.png" alt="Figure 1: Text controls"></p>
<p>These are mostly EditView objects:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/EditText.html">http://developer.android.com/reference/android/widget/EditText.html</a></li>
</ul>
<p>Redesign the activity to take a value from the picker or directly from a text view:</p>
<p><img src="img/26.png" alt="Figure 2: Textview alternative number input"></p>
<p>If the number picker is set to zero, then attempt to get a number from the text view.</p>
<p>Here is a hint (a version of donatButonPressed that does what we want):</p>
<pre><code class="lang-java">   public void donateButtonPressed (View view)
    {
        String method = paymentMethod.getCheckedRadioButtonId() == R.id.payPal ? &quot;PayPal&quot; : &quot;Direct&quot;;

        int donatedAmount = amountPicker.getValue();
        if (donatedAmount == 0)
        {
            String text = amountText.getText().toString();
            if (!text.equals(&quot;&quot;)) {
                donatedAmount = Integer.parseInt(text);
            }
        }

        totalDonated = totalDonated + donatedAmount;
        progressBar.setProgress(totalDonated);
        Log.v(&quot;Donate&quot;, donatedAmount + &quot; donated by &quot; +  method + &quot;\nCurrent total &quot; + totalDonated);
    }</code></pre>
<h2>Exercise 3:</h2>
<p>Revise the app such that when the target is achieved (10000) - then no more donations accepted, and the user is made aware of this.</p>
<p>Hint - here is how you can display a simple alert:</p>
<pre><code class="lang-java">      Toast toast = Toast.makeText(this, &quot;Target Exceeded!&quot;, Toast.LENGTH_SHORT);
      toast.show();</code></pre>
<h2>Exercise 4:</h2>
<p>Show on screen at all times the total amount donated.</p>
<p>You will use standard TextView for this:</p>
<ul>
<li><a href="http://developer.android.com/reference/android/widget/TextView.html">http://developer.android.com/reference/android/widget/TextView.html</a></li>
</ul>
<p>You already have a number of these on screen. Your layout could be revised to look like this:</p>
<p><img src="img/27.png" alt="Figure 3: Total so far displayed"></p>

      </div>
     
    </div>
  </div>
</div>
<!--<div class="ui bottom fixed borderless right menu">
  <div class="ui right tiny menu">
    <div class="ui mini message segment">
      .
      <a href="http://creativecommons.org/licenses/by-nc/4.0/"
         title="External link to http://creativecommons.org/licenses/by-nc/4.0/"
         target="_blank">Creative Commons License
      </a>
    </div>
  </div>
</div>-->

<script>
  $(document).on('keydown', function(e) {
  e = e || window.event;
  var nextTab;
  switch (e.which || e.keyCode) {
    case 37: // left
      nextTab = $('.tab-menu a[data-tab].active').prev('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').last();
      nextTab.click();
      $('.pusher').focus();
      break;

    case 39: // right
      nextTab = $('.tab-menu a[data-tab].active').next('a[data-tab]');
      if (!nextTab.length) nextTab = $('.tab-menu a[data-tab]').first();
      nextTab.click();
      $('.pusher').focus();
      break;
  }
});

</script>



    <footer>

    </footer>
    <script>
      $(document).ready(function() {
  $('img').addClass('ui image');

  $('.ui.embed').embed();

  const $images = $('.lab img');
  jQuery.each($images, function(i) {
    if ($images[i].alt.length > 0) {
      const divImg = $(document.createElement('div')).addClass(
        'ui basic segment',
      );
      $($images[i]).wrap(divImg);
      const divLabel = $(document.createElement('div')).addClass(
        'ui blue ribbon label',
      );
      divLabel.append($images[i].alt);
      $(divLabel).insertBefore($images[i]);
    }
  });

  $('.ui.menu .item').tab({
    history: true,
    historyType: 'hash',
  });

  $('.popup').popup();

  $('.ui.sidebar')
    .sidebar({ context: $('.pushable') })
    .sidebar('setting', 'transition', 'slide out')
    .sidebar('attach events', '#toc');
});

    </script>
  </body>

 </html>